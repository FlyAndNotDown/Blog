{% extends 'base.html' %}
{% load staticfiles %}

{% block additional-css %}
    <link href="{% static 'main/css/index.css' %}" rel="stylesheet">
{% endblock %}

{% block navbar %}
    <nav class="nav-extended cyan">
        <div class="nav-wrapper container">
            <a href="http://www.kindemh.cn" class="brand-logo">IT小站</a>
            <ul class="right">
                <li><a href="#"><i class="material-icons">search</i></a></li>
                <li class="hide-on-med-and-down"><a href="/message"><i class="material-icons">person</i></a></li>
            </ul>
            <ul class="left hide-on-large-only">
                <li><a href="/message"><i class="material-icons">person</i></a></li>
            </ul>
        </div>
        <div class="nav-content container">
            <ul class="tabs tabs-transparent">
                <li class="tab"><a class="active">首页</a></li>
                <li class="tab"><a target="_self" href="/archive">归档</a></li>
                <li class="tab"><a target="_self" href="/about">关于</a></li>
            </ul>
        </div>
    </nav>
{% endblock %}

{% block parallax %}
    <div class="parallax-container">
        <div class="parallax"><img src="{% static 'main/img/index_bg.jpg' %}" alt="Parallax背景-Kindem的博客"></div>
        <div class="center white-text">
            <br><br><br><br><br><br>
            <h2>{{ slogan_box.slogan }}</h2>
        </div>
    </div>
{% endblock %}

{% block main %}
    <div class="section teal lighten-5">
        <div class="row">
            <div class="container">
                <br>
                <div class="row hide-on-med-and-down">
                    <div class="col l6 xl6">
                        {% for post in post_list.left %}
                            <div class="card white">
                                <div class="card-content">
                                    <span class="card-title">{{ post.title }}</span>
                                    <p>{{ post.excerpt }}</p>
                                </div>
                                <div class="card-action">
                                    <a href="/post/{{ post.pk }}">全文</a>
                                    <!--<a href="#">分享</a>-->
                                    <span class="right">{{ post.created_time }}</span>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                    <div class="col l6 xl6">
                        {% for post in post_list.right %}
                            <div class="card white">
                                <div class="card-content">
                                    <span class="card-title">{{ post.title }}</span>
                                    <p>{{ post.excerpt }}</p>
                                </div>
                                <div class="card-action">
                                    <a href="/post/{{ post.pk }}">全文</a>
                                    <!--<a href="#">分享</a>-->
                                    <span class="right">{{ post.created_time }}</span>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="row hide-on-large-only">
                    <div class="col s12 m12">
                        {% for post in post_list.all %}
                            <div class="card white">
                                <div class="card-content">
                                    <span class="card-title">{{ post.title }}</span>
                                    <p>{{ post.excerpt }}</p>
                                </div>
                                <div class="card-action">
                                    <a href="post/{{ post.pk }}">全文</a>
                                    <!--<a href="#">分享</a>-->
                                    <span class="right">{{ post.created_time }}</span>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="col s12 m12 l12 xl12">
                <div class="row center">
                    <ul class="pagination">
                        {% if page_info.is_first %}
                            <li class="disabled"><a><i class="material-icons">chevron_left</i></a></li>
                        {% else %}
                            <li class="waves-effect"><a href="/{{ page_info.pre }}">
                                <i class="material-icons">chevron_left</i></a></li>
                        {% endif %}

                        <li><a class="waves-effect">{{ page_info.current }}</a></li>

                        {% if page_info.is_last %}
                            <li class="disabled"><a><i class="material-icons">chevron_right</i></a></li>
                        {% else %}
                            <li class="waves-effect"><a href="/{{ page_info.next }}">
                                <i class="material-icons">chevron_right</i></a></li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block additional-js %}
    <script>
        $(document).ready(function () {
            // parallax 初始化
            $('.parallax').parallax();
        });
    </script>
{% endblock %}